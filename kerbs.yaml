query:
  14: (way[kerb];way[barrier=kerb];node[kerb];node[barrier=kerb];)
feature:
  pre: |
    {% set kerb = 'unknown' %}
    {% if const.kerb[tags.kerb] %}
    {% set kerb = tags.kerb %}
    {% endif %}

  description: |
    {{ tagTrans('barrier', 'kerb') }}
  body: |
    <ul>
    <li>{{ keyTrans('kerb') }}: {{ tags.kerb ? tagTrans('kerb', tags.kerb) : trans('unknown') }}</li>
    <li>{{ keyTrans('wheelchair') }}: {{ tags.wheelchair ? tagTrans('wheelchair', tags.wheelchair) : trans('unknown') }}</li>
    <li>{{ keyTrans('tactile_paving') }}: {{ tags.tactile_paving ? tagTrans('tactile_paving', tags.tactile_paving) : trans('unknown') }}</li>
    <li>{{ keyTrans('height') }}: {{ tags.height ? tags.height|formatUnit('distance') : trans('unknown') }}</li>
    </ul>
  markerSymbol:
  listMarkerSymbol: |
    {% if type == 'way' %}
    line
    {% else %}
    {{ markerCircle({ radius: 5, width: 2, fillOpacity: 1, fillColor: const.kerb[kerb], color: 'black' }) }}
    {% endif %}
  details: |
    {% if tags.kerb and tags.kerb != 'yes' %}{{ tagTrans('kerb', tags.kerb) }}{% endif %}
    {% if tags.height %}({{ tags.height|formatUnit('distance') }}){% endif %}
  styles: |
    {% if type == 'way' %}
      default,marker
    {% else %}
      node
    {% endif %}
  style:
    color: |
      {{ const.kerb[kerb] }}
    fill: |
      {{ type == 'way' ? false : true }}
    radius: 4
    fillOpacity: 1
    width: |
      {{ config.thickness|default(2) }}
  style:marker:
    color: |
      {{ const.kerb[kerb] }}
    offset: |
      {{ config.thickness|default(2) }}
    width: |
      {{ config.thickness|default(2) }}
    fill: false
    dashArray: |
      {{ config.thickness|default(2) }},{{ config.thickness|default(2) * 4 }}
    lineCap: butt
  style:node:
    fillColor: |
      {{ const.kerb[kerb] }}
    fill: true
    radius: 6
    fillOpacity: 1
    width: 1
    color: black
info: |
  {{ tagTrans('barrier', 'kerb') }}:
  <table>
  {% for v, color in const.kerb %}
    <tr>
      <td>
        {{ markerLine({ styles: 'default,marker', style: { width: 2, color: color }, 'style:marker': { width: 2, offset: 2, color: color, dashArray: '2,9'} } ) }}
        {{ markerCircle({ radius: 4, width: 1, fillOpacity: 1, fillColor: color, color: 'black' }) }}
      </td>
      <td>{{ v == 'unknown' ? trans('unknown') : tagTrans('kerb', v) }}</td>
    </tr>
  {% endfor %}
  </table>
config:
  thickness:
    name: "{{ trans('thickness') }}"
    type: select
    default: 2
    placeholder: false
    values:
      1: "{{ trans('thickness:thin') }}"
      2: "{{ trans('thickness:normal') }}"
      3: "{{ trans('thickness:tick') }}"
      5: "{{ trans('thickness:very_thick') }}"
const:
  kerb:
    flush: '#00af00'
    lowered: '#007f7f'
    no: '#000000'
    raised: '#af0000'
    rolled: '#af7f00'
    unknown: '#7f7f7f'
