{
    "type": "overpass",
    "name": {
        "de": "Geb√§udearten",
        "en": "Building types"
    },
    "query": {
        "16": [
            "(",
            "  way[building][building!=no];",
            "  relation[building][building!=no];",
            ")"
        ]
    },
    "feature": {
        "pre": [
            "{% set type = tags.building|split(';')[0] %}",
            "{% set color = const.other.color %}",
            "{% for cat, data in const %}",
            "  {% if type in data.types %}",
            "    {% set color = data.color %}",
            "  {% endif %}",
            "{% endfor %}"
        ],
        "description": [
            "{% if tags.building == 'yes' %}",
            "{{ keyTrans('building') }}",
            "{% else %}",
            "{{ tagTransList('building', tags.building) }}",
            "{% endif %}"
        ],
        "priority": [
            "{% set p = 100 %}",
            "{% if tags.name %}{% set p = p - 10 %}{% endif %}",
            "{% if tags.amenity %}{% set p = p - 1 %}{% endif %}",
            "{% if tags.historic %}{% set p = p - 1 %}{% endif %}",
            "{% if tags.culture %}{% set p = p - 1 %}{% endif %}",
            "{% if tags.highway %}{% set p = p - 1 %}{% endif %}",
            "{% if tags.railway %}{% set p = p - 1 %}{% endif %}",
            "{% if tags.aeroway %}{% set p = p - 1 %}{% endif %}",
            "{% if tags.amenity %}{% set p = p - 1 %}{% endif %}",
            "{% if tags.tourism %}{% set p = p - 1 %}{% endif %}",
            "{{ p }}"
        ],
        "markerSymbol": null,
        "listMarkerSymbol": "{{ markerPolygon({\"fillColor\": color, \"fillOpacity\": 0.8, \"width\": 1, \"color\": \"#000000\" })|raw }}",
        "style": {
            "width": "1",
            "color": "#000000",
            "fillColor": "{{ color }}",
            "fillOpacity": "0.8"
        }
    },
    "info": [
        "<table>",
        "{% for cat, data in const %}",
        "  <tr>",
        "    <td>{{ markerPolygon({ \"fillColor\": data.color, \"fillOpacity\": \"0.8\", \"width\": 1, \"color\": \"#000000\" })|raw }}</td>",
        "    <td>{{ cat }}</td>",
        "  </tr>",
        "{% endfor %}",
        "</table>"
    ],
    "const": {
        "residential": {
            "color": "#25a000",
            "types": [ "house", "apartments", "block", "flats", "farm", "detached", "dormitory", "terrace", "houseboat", "bungalow", "static_caravan", "cabin", "residential", "semidetached_house", "ger", "trullo" ]
        },
        "tourism": {
            "color": "#814ce2",
            "types": [ "hotel", "ruins", "conservatory" ]
        },
        "commercial": {
            "color": "#ec5bcf",
            "types": [ "commercial", "office", "industrial", "retail", "supermarket", "warehouse", "kiosk", "mall", "shop" ]
        },
        "religious": {
            "color": "#af29cc",
            "types": [ "religious", "cathedral", "chapel", "church", "mosque", "temple", "synagogue", "shrine", "monastery" ]
        },
        "amenity": {
            "color": "#2935cc",
            "types": [ "kindergarten", "civic", "government", "hospital", "school", "university", "grandstand", "public", "toilets", "college" ]
        },
        "farm": {
            "color": "#92e934",
            "types": [ "bakehouse", "barn", "cowshed", "farm_auxiliary", "greenhouse", "stable", "sty", "kitchen", "slurry_tank", "silo" ]
        },
        "industrial": {
            "color": "#e2da1b",
            "types": [ "construction", "garbage_shed", "transformer_tower", "service", "water_tower", "industrial", "warehouse", "storage_tank" ]
        },
        "transport": {
            "color": "#1bb5e2",
            "types": [ "carport", "garage", "garages", "bridge", "hangar", "parking", "train_station", "transportation" ]
        },
        "sport": {
            "color": "#e21b66",
            "types": [ "pavilion", "riding_hall", "stadium", "sports_hall" ]
        },
        "simple": {
            "color": "#cc8725",
            "types": [ "hut", "roof", "shed" ]
        },
        "military": {
            "color": "#4a7300",
            "types": [ "bunker", "riding_hall", "sports_hall" ]
        },
        "other": {
            "color": "#ff0000",
            "types": []
        },
        "unspecified": {
            "color": "#7f7f7f",
            "types": [ "yes" ]
        }
    }
}
