{
    "type": "overpass",
    "name": {
        "de": "Gebäudearten",
        "en": "Building types"
    },
    "query": {
        "16": [
            "(",
            "  way[building];",
            "  relation[building];",
            ")"
        ]
    },
    "feature": {
        "pre": [
            "{% set color = \"#7f7f7f\" %}",
            "{% if tags.building in const %}",
            "{% set color = const[tags.building] %}",
            "{% endif %}"
        ],
        "description": [
            "{% if tags.building == 'yes' %}",
            "{{ keyTrans('building') }}",
            "{% else %}",
            "{{ tagTrans('building', tags.building) }}",
            "{% endif %}"
        ],
        "markerSymbol": null,
        "listMarkerSymbol": "{{ markerPolygon({\"fillColor\": color, \"fillOpacity\": 0.8, \"width\": 1, \"color\": \"#000000\" })|raw }}",
        "priority": "{{ (approxHeight|default(0)) * -1 }}",
        "style": {
            "width": "1",
            "color": "#000000",
            "fillColor": "{{ color }}",
            "fillOpacity": "1"
        }
    },
    "info": [
        "<div style='display: inline-block'>",
        "{{ tagTrans('height') }}",
        "<table>",
        "  <tr>",
        "    <td>{{ markerPolygon(evaluate({ \"building\": \"yes\" }))|raw }}</td>",
        "    <td colspan>{{ trans('unknown') }}</td>",
        "  </tr>",
        "{% for i in range(0, 50, 10) %}",
        "  <tr>",
        "    <td>{{ markerPolygon(evaluate({ \"building\": \"yes\", \"height\": i }))|raw }}</td>",
        "    <td>{{ i }}m</td>",
        "  </tr>",
        "{% endfor %}",
        "{% for i in range(100, 250, 50) %}",
        "  <tr>",
        "    <td>{{ markerPolygon(evaluate({ \"building\": \"yes\", \"height\": i }))|raw }}</td>",
        "    <td>{{ i }}m</td>",
        "  </tr>",
        "{% endfor %}",
        "  <tr>",
        "    <td>{{ markerPolygon(evaluate({ \"building\": \"yes\", \"height\": \"300\" }))|raw }}</td>",
        "    <td>≥300m</td>",
        "  </tr>",
        "</table>",
        "</div>",
        "",
        "<div style='display: inline-block'>",
        "{{ tagTrans('building:levels') }}",
        "<table>",
        "  <tr>",
        "    <td>{{ markerPolygon(evaluate({ \"building\": \"yes\" }))|raw }}</td>",
        "    <td colspan>{{ trans('unknown') }}</td>",
        "  </tr>",
        "{% for i in range(0, 12, 3) %}",
        "  <tr>",
        "    <td>{{ markerPolygon(evaluate({ \"building\": \"yes\", \"building:levels\": i }))|raw }}</td>",
        "    <td>{{ i }}</td>",
        "  </tr>",
        "{% endfor %}",
        "{% for i in range(15, 84, 15) %}",
        "  <tr>",
        "    <td>{{ markerPolygon(evaluate({ \"building\": \"yes\", \"building:levels\": i }))|raw }}</td>",
        "    <td>{{ i }}</td>",
        "  </tr>",
        "{% endfor %}",
        "  <tr>",
        "    <td>{{ markerPolygon(evaluate({ \"building\": \"yes\", \"building:levels\": \"85\" }))|raw }}</td>",
        "    <td>≥85</td>",
        "  </tr>",
        "</table>",
        "",
        "</div>"
    ],
    "const": {
        "yes": "#7f7f7f",
        "apartments": "#ff0000",
        "place_of_worship": "#af29cc"
    }
}
