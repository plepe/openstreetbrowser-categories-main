query:
  '13': |-
    (
    node[highway~"^(elevator)$"];
    node[information];
    node[tourism~"^(viewpoint)$"];
    node[man_made~"^(cairn)$"];
    nwr[amenity~"^(shelter)$"];
    )
  '16': |-
    (
    node[highway~"^(crossing|elevator)$"];
    node[information];
    node[tourism~"^(viewpoint)$"];
    node[man_made~"^(cairn)$"];
    nwr[amenity~"^(bench|shelter)$"];
    node[leisure~"^(picnic_table)$"];
    )
feature:
  pre: |-
    {% if tags.information %}
      {% set key = 'information' %}
      {% set value = tags.information %}
    {% elseif tags.amenity in [ 'bench', 'shelter' ] %}
      {% set key = 'amenity' %}
      {% set value = tags.amenity %}
    {% elseif tags.leisure in [ 'picnic_table' ] %}
      {% set key = 'leisure' %}
      {% set value = tags.leisure %}
    {% elseif tags.man_made in [ 'cairn' ] %}
      {% set key = 'man_made' %}
      {% set value = tags.man_made %}
    {% elseif tags.tourism in [ 'viewpoint'] %}
      {% set key = 'tourism' %}
      {% set value = tags.tourism %}
    {% else %}
      {% set key = 'highway' %}
      {% set value = tags.highway %}
    {% endif %}

    {% set type_data = const[key ~ '=' ~ value] %}
  description: |-
    {{ tagTrans(key, value) }}
  markerSign: |-
    {{ type_data.sign|raw }}
  priority: |-
    {{ type_data.priority }}
filter:
  type:
    name: |
      {{ trans('filter:type') }}
    type: select
    show_default: true
    values: |-
      {% for kv, d in const %}
      <option value='{{ kv }}' query='nwr[{{ kv }}]'>{{ tagTrans(kv|split('=')[0], kv|split('=')[1]) }}</option>
      {% endfor %}
const:
  highway=crossing:
    priority: 10
    sign: <i class='fa fa-bars' aria-hidden='true'></i>
  highway=elevator:
    priority: 2
    sign: <i class='fa fa-caret-square-o-up' aria-hidden='true'></i>
  information=guidepost:
    priority: 2
    sign: <i class='fa fa-map-signs' aria-hidden='true'></i>
  information=map:
    priority: 2
    sign: <i class='fa fa-map' aria-hidden='true'></i>
  information=board:
    priority: 2
    sign: <img data-src='temaki:info_board'>
  information=office:
    priority: 1
    sign: <i class='fa fa-info-circle' aria-hidden='true'></i>
  amenity=bench:
    priority: 3
    sign: <img data-src='temaki:bench'>
  leisure=picnic_table:
    priority: 3
    sign: <img data-src='maki:picnic-site'>
  man_made=cairn:
    priority: 2
    sign: <img data-src='temaki:cairn'>
  amenity=shelter:
    priority: 1
    sign: <img data-src='maki:shelter'>
