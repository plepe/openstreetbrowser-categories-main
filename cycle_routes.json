{
    "type": "overpass",
    "name": {
        "de": "Radrouten",
        "en": "Cycle Routes",
        "fr": "Itinéraires vélo",
        "pt": "Ciclovias",
        "pt-br": "Ciclorrotas"
    },
    "query": {
        "6": "relation[type=route][route=bicycle][network~'^(icn)$']",
        "9": "relation[type=route][route=bicycle][network~'^(icn|ncn)$']",
        "12": "relation[type=route][route=bicycle][network~'^(icn|ncn|rcn)$']",
        "15": "relation[type=route][route=bicycle]"
    },
    "members": true,
    "feature": {
        "priority": "{{ {icn:0,ncn:1,rcn:2,lcn:3}[tags.network] }}",
        "description": "{{ tagTrans('network', tags.network) }}",
        "listMarkerSymbol": "{{ markerLine({ 'width': 4, 'color': const[tags.network].color })|raw }}",
        "styles": ""
    },
    "memberFeature": {
        "pre": [
            "{% set priority = 4 %}",
            "{% set network = '' %}",
            "{% set refs = [] %}",
            "",
            "{% for master in masters %}",
            "  {% set _p = {icn:0,ncn:1,rcn:2,lcn:3}[master.tags.network] %}",
            "  {% if _p < priority %}",
            "    {% set priority = _p %}",
            "    {% set network = master.tags.network %}",
            "  {% endif %}",
            "  {% if master.tags.ref %}",
            "    {% set refs = refs|merge([ master.tags.ref ]) %}",
            "  {% endif %}",
            "{% endfor %}"
        ],
        "title": "",
        "body": [
            "<ul>",
            "{% for master in masters %}",
            "  {% if master.tags.public_transport != 'stop_area' %}",
            "  <li data-object=\"{{ master.id }}\"><b>{{ master.tags.name|default(master.tags.ref) }}</b> <i>{{ tagTrans('network', master.tags.network) }}</i></li>",
            "  {% endif %}",
            "{% endfor %}",
            "</ul>"
        ],
        "listExclude": "1",
        "style": {
            "color": "{{ const[network].color }}",
            "width": 4,
            "opacity": 1,
            "text": "{{ refs|join('  ') }}             ",
            "textRepeat": "1",
            "textOffset": "12",
            "textFontWeight": "bold"
        }
    },
    "const": {
        "icn": {
            "color": "#ff0000",
            "zoom": 6
        },
        "ncn": {
            "color": "#ff00ba",
            "zoom": 9
        },
        "rcn": {
            "color": "#ba00ff",
            "zoom": 12
        },
        "lcn": {
            "color": "#0000ff",
            "zoom": 15
        }
    },
    "info": [
        "<table>",
        "{% for value, data in const %}",
        "{% if data.zoom <= map.zoom %}",
        "  <tr>",
        "    <td>{{ markerLine({ 'width': 4, color: data.color })|raw }}</td>",
        "    <td>{{ tagTrans('network', value) }}</td>",
        "  </tr>",
        "{% endif %}",
        "{% endfor %}",
        "</table>"
    ]
}
